<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel-Log</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/exif-js"></script>
</head>

<body>
    <!-- タグごとのチェックボックス -->
    <div>
        <button id="allcheck">全てにチェックをつける</button>
        <button id="alluncheck">全てのチェックを外す</button>
        <label><input type="checkbox" id="restaurants" checked> 飲食店</label>
        <label><input type="checkbox" id="tourist-attractions" checked> 観光地</label>
    </div>

    <div id="map" style="width: 100%; height: 500px;"></div>
    <p><a href="https://twitter.com/Syuiro_2">@redtea</a>の旅記録です。</p>
    <p>旅行の計画を立てる際、Google Mapsを開きながらどこに行こうかなあ、と考えたことはありませんか？Goole
        Maps上でも興味深い観光地を見つけることはできますが、このサイトではredteaが訪れた場所を写真付きでごく簡単に紹介します。<br>是非、「XX県の方に旅行にいくことになったけど、空き時間にどこにいこう」と悩んだ時にお役立てください。
    </p>
    <p>※面白かった観光地や美味しい飲食店だけでなく、私自身が「行ったこと」を思い返すために旅先での何気ない道の写真なども載せています。</p>
    <p>※リンクは結構適当に探して貼っているので誤りがあるかもしれません。その他、全体的に何か誤りがあるかもしれませんがご容赦ください。</p>
    <p>※位置情報はスマホのGPSを基にしておりますので、実際の場所とずれている可能性があることにご注意ください。</p>

    <img id="01_01_知床食堂道の駅" src="images/01_01_知床食堂道の駅.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_02_ハイジ牧場_羊" src="images/01_02_ハイジ牧場_羊.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_03_ハイジ牧場_凧" src="images/01_03_ハイジ牧場_凧.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_04_小樽天狗山" src="images/01_04_小樽天狗山.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_05_新千歳空港" src="images/01_05_新千歳空港.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_07_登別温泉まほろば" src="images/01_07_登別温泉まほろば.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_08_豚丼のぱんちょう" src="images/01_08_豚丼のぱんちょう.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_09_釧路市湿原展望台" src="images/01_09_釧路市湿原展望台.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_10_オキアミ" src="images/01_10_オキアミ.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_11_回転寿司まつりや" src="images/01_11_回転寿司まつりや.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_12_シャケ番屋_直売所" src="images/01_12_シャケ番屋_直売所.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_13_網走刑務所" src="images/01_13_網走刑務所.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_14_知床峠" src="images/01_14_知床峠.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_15_旭川ラーメン" src="images/01_15_旭川ラーメン.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_16_クリーマリー農夢" src="images/01_16_クリーマリー農夢.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_17_青い池" src="images/01_17_青い池.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_18_松尾ジンギスカン" src="images/01_18_松尾ジンギスカン.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_19_小樽三角市場_八角" src="images/01_19_小樽三角市場_八角.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_20_小樽運河" src="images/01_20_小樽運河.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_21_ル・キャトリエム運河通り店" src="images/01_21_ル・キャトリエム運河通り店.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_22_えびそば一幻" src="images/01_22_えびそば一幻.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_23_札幌ミルクハウス" src="images/01_23_札幌ミルクハウス.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_24_札幌ビール工場" src="images/01_24_札幌ビール工場.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_25_札幌ビール工場内" src="images/01_25_札幌ビール工場内.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_26_札幌ビール工場試飲" src="images/01_26_札幌ビール工場試飲.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_27_ラーメンすみれ" src="images/01_27_ラーメンすみれ.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_28_大通り" src="images/01_28_大通り.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_29_ジンギスカンいただきます" src="images/01_29_ジンギスカンいただきます.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_30_札幌時計台" src="images/01_30_札幌時計台.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_31_北海道大学総合博物館" src="images/01_31_北海道大学総合博物館.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_32_蟹と焼き鳥えにし" src="images/01_32_蟹と焼き鳥えにし.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_33_イニシャルサッポロ" src="images/01_33_イニシャルサッポロ.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_34_支笏湖" src="images/01_34_支笏湖.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_35_丘のペンションポプラ" src="images/01_35_丘のペンションポプラ.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_36_丘のペンションポプラ室内" src="images/01_36_丘のペンションポプラ室内.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_37_ケンとメリーの木" src="images/01_37_ケンとメリーの木.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_38_ゼルブの丘" src="images/01_38_ゼルブの丘.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_39_ブラン・ルージュ" src="images/01_39_ブラン・ルージュ.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_40_ブラン・ルージュ洋食" src="images/01_40_ブラン・ルージュ洋食.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_41_ファーム富田" src="images/01_41_ファーム富田.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_42_ふらのワインワイナリー" src="images/01_42_ふらのワインワイナリー.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_43_ふらのワインワイナリー" src="images/01_43_ふらのワインワイナリー.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_44_ニングルテラス" src="images/01_44_ニングルテラス.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_45_星のリゾートトマムザ・タワー" src="images/01_45_星のリゾートトマムザ・タワー.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_46_星のリゾート雲海" src="images/01_46_星のリゾート雲海.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_47_星のリゾート_牛" src="images/01_47_星のリゾート_牛.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="01_48馬鹿バーガー" src="images/01_48馬鹿バーガー.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;"> <img id="02_01_可否屋葡瑠満"
        src="images/02_01_可否屋葡瑠満.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_02_三内丸山遺跡" src="images/02_02_三内丸山遺跡.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_03_三内丸山遺跡縄文土器" src="images/02_03_三内丸山遺跡縄文土器.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_04_青森空港" src="images/02_04_青森空港.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_05_アスパム" src="images/02_05_アスパム.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_06_三内丸山遺跡" src="images/02_06_三内丸山遺跡.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_07_青森県立美術館_あおもり犬" src="images/02_07_青森県立美術館_あおもり犬.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_08_アウガ新鮮市場" src="images/02_08_アウガ新鮮市場.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_09_A-FACTORY" src="images/02_09_A-FACTORY.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_10_ねぶたの家ワラッセ" src="images/02_10_ねぶたの家ワラッセ.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_11_5mcoffe_カスカラソーダ" src="images/02_11_5mcoffe_カスカラソーダ.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_12_ねぶた祭り" src="images/02_12_ねぶた祭り.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_13_弘前れんが車庫美術館" src="images/02_13_弘前れんが車庫美術館.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_14_弘前車庫美術館_ランチ" src="images/02_14_弘前車庫美術館_ランチ.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_15_弘前昇天教会" src="images/02_15_弘前昇天教会.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_16_旧弘前市図書館" src="images/02_16_旧弘前市図書館.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_17_弘前城公園" src="images/02_17_弘前城公園.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_18_弘前城本丸" src="images/02_18_弘前城本丸.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_19_弘前蓬莱橋" src="images/02_19_弘前蓬莱橋.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_20_青森銀行記念館" src="images/02_20_青森銀行記念館.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_21_田んぼアート第二会場" src="images/02_21_田んぼアート第二会場.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_22_田んぼアート石" src="images/02_22_田んぼアート石.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_23_田んぼアート駅" src="images/02_23_田んぼアート駅.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_24_大鰐温泉福祉館" src="images/02_24_大鰐温泉福祉館.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_25_ねぷた祭り" src="images/02_25_ねぷた祭り.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_26_リゾートしらかみからの景色" src="images/02_26_リゾートしらかみからの景色.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_27_リゾートしらかみから2" src="images/02_27_リゾートしらかみから2.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_28_千畳敷海岸" src="images/02_28_千畳敷海岸.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_29_森の物産館キョロロ" src="images/02_29_森の物産館キョロロ.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_30_青池" src="images/02_30_青池.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_31_白神山地" src="images/02_31_白神山地.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_32_白神山地2" src="images/02_32_白神山地2.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_33_白神山地3" src="images/02_33_白神山地3.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_34_アオーネ白神" src="images/02_34_アオーネ白神.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_35_二つ目の池" src="images/02_35_二つ目の池.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="02_36_十二湖駅_青池ソフト" src="images/02_36_十二湖駅_青池ソフト.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="03_01_中尊寺" src="images/03_01_中尊寺.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="03_02_東屋_わんこそば" src="images/03_02_東屋_わんこそば.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="03_03_東屋" src="images/03_03_東屋.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="04_01_牛タン" src="images/04_01_牛タン.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="04_02_ずんだ餅" src="images/04_02_ずんだ餅.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="04_03_喜助牛タン" src="images/04_03_喜助牛タン.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="04_04_牛タン寿司" src="images/04_04_牛タン寿司.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="04_05_松島" src="images/04_05_松島.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="04_06_南三陸さんさん商店街" src="images/04_06_南三陸さんさん商店街.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_01_JAXA能代実験所" src="images/05_01_JAXA能代実験所.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_02_竿燈祭り" src="images/05_02_竿燈祭り.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_03_千秋公園_蓮" src="images/05_03_千秋公園_蓮.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_04_中通り_お祭り地ビール" src="images/05_04_中通り_お祭り地ビール.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_05_秋田番屋酒場_きりたんぽ" src="images/05_05_秋田番屋酒場_きりたんぽ.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_06_秋田番屋酒場_きりたんぽ鍋" src="images/05_06_秋田番屋酒場_きりたんぽ鍋.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_07_秋田番屋酒場_ほたて" src="images/05_07_秋田番屋酒場_ほたて.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_08_秋田番屋酒場" src="images/05_08_秋田番屋酒場.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_09_武家屋敷岩橋家" src="images/05_09_武家屋敷岩橋家.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_10_桜の里_稲庭うどん比内地鶏親子丼" src="images/05_10_桜の里_稲庭うどん比内地鶏親子丼.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_11_角館武家屋敷駕籠" src="images/05_11_角館武家屋敷駕籠.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_12_角館解体新書" src="images/05_12_角館解体新書.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_13_角館剣" src="images/05_13_角館剣.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_14_秋田空港" src="images/05_14_秋田空港.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_15_道の駅たかのす" src="images/05_15_道の駅たかのす.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="05_16_比内地鶏きりたんぽ稲庭うどん" src="images/05_16_比内地鶏きりたんぽ稲庭うどん.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="06_01_山寺" src="images/06_01_山寺.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="06_02_湯野浜温泉" src="images/06_02_湯野浜温泉.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="07_01_たんぽぽ亭喜多方ラーメン" src="images/07_01_たんぽぽ亭喜多方ラーメン.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="07_02_めでたいや喜多方ラーメン " src="images/07_02_めでたいや喜多方ラーメン .jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="07_03_会津芦ノ牧温泉大川壮" src="images/07_03_会津芦ノ牧温泉大川壮.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="07_04_鶴ヶ城" src="images/07_04_鶴ヶ城.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="07_05_鶴ヶ城抹茶" src="images/07_05_鶴ヶ城抹茶.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="07_06_大内宿" src="images/07_06_大内宿.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="13_01_東京タワー" src="images/13_01_東京タワー.jpg"
        style="width: 1px; height: 1px; position: absolute; top: -1000px;">
    <img id="26_01_下鴨神社" src="images/26_01_下鴨神社.jpg" style="width: 1px; height: 1px; position: absolute; top: -1000px;">

    <script>

        // 「全て」にチェックを入れれば、他のチェックボックスも自動でチェックされる。「全て」のチェックを外せば、他のチェックボックスも自動で外れる。
        document.getElementById('allcheck').addEventListener('click', checkall);
        document.getElementById('alluncheck').addEventListener('click', uncheckall);

        document.getElementById('restaurants').addEventListener('change', filterMarkers);
        document.getElementById('tourist-attractions').addEventListener('change', filterMarkers);


        var map = L.map('map').setView([35.02352791752294, 135.7633984809353], 5);//デフォルト13
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '© OpenStreetMap contributors'
        }).addTo(map);
        var MAP_MAKERS = {};

        var explainInfo = {};

        async function loadJson() {
            try {
                const response = await fetch('docs/explain.json');
                explainInfo = await response.json();
                updateMarkers();
            } catch (error) {
                console.error('Failed to load JSON:', error);
            }
        }

        function updateMarkers() {
            const imageElements = document.images;
            for (let i = 0; i < imageElements.length; i++) {
                const imageElement = imageElements[i];
                let info = explainInfo[imageElement.id];
                if (imageElement.complete) {
                    addImageMarker(imageElement, imageElement.id, info);
                } else {
                    imageElement.onload = function () {
                        addImageMarker(imageElement, imageElement.id, info);
                    }
                }
            }
            filterMarkers();
        }

        function addImageMarker(imageElement, imageName, explainInfo) {
            EXIF.getData(imageElement, function () {
                var lat = EXIF.getTag(this, "GPSLatitude");
                var lon = EXIF.getTag(this, "GPSLongitude");

                if (lat && lon) {
                    var latRef = EXIF.getTag(this, "GPSLatitudeRef") || "N";
                    var lonRef = EXIF.getTag(this, "GPSLongitudeRef") || "E";
                    lat = (lat[0] + lat[1] / 60 + lat[2] / 3600) * (latRef === "N" ? 1 : -1);
                    lon = (lon[0] + lon[1] / 60 + lon[2] / 3600) * (lonRef === "E" ? 1 : -1);

                    var imageIcon = L.icon({
                        iconUrl: 'images/' + imageName + '.jpg',
                        iconSize: [50, 50],
                        iconAnchor: [25, 25]
                    });

                    var marker = L.marker([lat, lon], { icon: imageIcon }).addTo(map);
                    MAP_MAKERS[imageName] = marker;
                    if (explainInfo) {
                        display_str = make_title_display_str(explainInfo);
                        marker.bindPopup(display_str);
                    }
                }
            });
        }

        function removeMarkers(imageName) {
            MAP_MAKERS[imageName].remove();
        }

        function checkall() {
            const showRestaurants = document.getElementById('restaurants').checked;
            const showAttractions = document.getElementById('tourist-attractions').checked;
            document.getElementById('restaurants').checked = true;
            document.getElementById('tourist-attractions').checked = true;
            filterMarkers()
        }

        function uncheckall() {
            const showRestaurants = document.getElementById('restaurants').checked;
            const showAttractions = document.getElementById('tourist-attractions').checked;
            document.getElementById('restaurants').checked = false;
            document.getElementById('tourist-attractions').checked = false;
            filterMarkers()
        }

        function filterMarkers() {
            const showRestaurants = document.getElementById('restaurants').checked;
            const showAttractions = document.getElementById('tourist-attractions').checked;

            for (let imageName in MAP_MAKERS) {
                const marker = MAP_MAKERS[imageName];
                const info = explainInfo[imageName];

                if ((showRestaurants && info.tags.includes("飲食店")) || (showAttractions && info.tags.includes("観光地"))) {
                    marker.addTo(map);
                } else {
                    marker.remove();
                }
            }
        }

        function make_title_display_str(explainInfo) {
            var title = '<h2>' + explainInfo.title + '</h2>';
            var description = explainInfo.description ? '<p>' + explainInfo.description + '</p>' : '';
            var url = explainInfo.url ? '<a href="' + explainInfo.url + '" target="_blank">詳細を見る</a>' : '';
            var image = '<br><a href="images/' + explainInfo.image_name + '" data-lightbox="image-' + explainInfo.image_name + '">画像を拡大</a>';
            return title + description + url + image;
        }
        // var zoomLevel = map.getZoom();
        // console.log('Zoom Level:', zoomLevel);
        loadJson();
    </script>
</body>

</html>